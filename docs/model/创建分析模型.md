---
id: sjfx-cjfxmx
title: 创建分析模型
sidebar_position: 2
---
# 创建分析模型

创建分析模型的前提是已经建立数据连接。

## 模型列表

在控制台左侧导航，选择“分析模型”菜单，进入分析模型列表。通过模型列表可以对分析模型进行管理。

<img src="../../static/img/datafor/model/image-20220217170458742.png"  align="left" />

## 创建模型

创建分析模型有以下几个步骤：

### 1. 选择连接和表

在分析模型列表上方点击“新建模型”按钮。

<img src="../../static/img/datafor/model/image-20220217170622923.png"  align="left" />

选择“连接”和“模式”。

在表和视图列表中选择所需要的表和视图。在右侧已选的表和视图列表中指定至少一个事实表。点击“确定”按钮

<img src="../../static/img/datafor/model/image-20220217172232161.png"  align="left" />

创建计算字段

<img src="../../static/img/datafor/model/image-20220217194649760.png"  align="left" />

在输入合法的sql表达式，创建计算字段。

<img src="../../static/img/datafor/model/image-20220217195130158.png"  align="left" />

### 2. 设置表关系

DATAFOR会自动给事实表（外键）和维度表（主键）建立关系（外键和主键的名字一致）。

如果外键和主键名字不一致，可以手动通过拖拉字段方式建立连接。

<img src="../../static/img/datafor/model/20220217_171809.gif"  align="left" />

通过右键点击表之间的连接线，可以删除和修改连接。

<img src="../../static/img/datafor/model/image-20220217172722774.png"  align="left" />


### 3. 修改自动生成的模型

当表之间的关系建立好后，分析模型会自动生成。您可以根据实际需要修改模型，满足对数据的分析需求。

模型设计工具提供如下修改功能：

| 模型元素&emsp;&emsp; | 功能点&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                                       |
| -------- | ------------------------------------------------------------ |
| 维度     | - 修改维度名称<br />- 添加描述<br />- 设置隐藏<br />- 修改维度类型 |
| 维度字段 | - 修改名称<br />- 添加描述<br />- 设置隐藏<br />- 设置排序字段<br />- 修改列<br />- 成员格式化 |
| 层次     | - 新建层次<br />- 删除层次<br />- 隐藏层次                       |
| 度量组   | - 修改度量组名称<br/>- 添加度量组描述<br/>- 设置隐藏         |
| 度量     | - 修改维度名称<br/>- 添加描述<br/>- 设置隐藏<br/>- 修改数据格式<br/>- 修改聚合方式 |
| 计算度量 | - 创建计算度量<br/>- 修改名称<br/>- 添加描述<br/>- 隐藏计算度量<br/>- 修改计算度量格式<br/>- 修改聚合方式 |

<img src="../../static/img/datafor/model/20220217_195403.gif"  align="left" />