# 计算字段

## 什么是计算字段？

计算字段是在分析模型中使用 SQL公式创建的新的数据字段。

## 何时使用计算字段

使用计算字段的情况包括：

- 需要逐行计算时。
- 基于现有列创建新数据字段时。
- 通过额外的信息增强数据模型，

## 如何创建计算字段

### 步骤2：进入建模视图

点击左侧导航窗格中的 **数据** 图标，切换到数据视图。

### 步骤3：选择表格

选择要创建新计算字段的表格。

### 步骤4：添加新列

1. 在功能区中，转到 **建模** 选项卡。
2. 点击 **新建列**。

### 步骤5：编写 DAX 公式

将出现一个输入框，您可以在其中编写 DAX 公式。输入计算字段的公式。例如，要创建一个通过将数量和单价相乘来计算总销售额的列，可以写：

```
总销售额 = [数量] * [单价]
```

### 步骤6：应用公式

按 **Enter** 键应用公式。新的计算字段将添加到您的表格中，并根据提供的公式进行数据计算。

### 步骤7：在报表中使用计算字段

现在，您可以在可视化、筛选和关系中使用新计算字段。

## 示例用例

### 示例1：创建利润率列

要创建一个计算利润率（作为销售额百分比）的列，可以使用以下 DAX 公式：

```
利润率 = ([销售额] - [成本]) / [销售额] * 100
```

### 示例2：分类数据

您可以创建一个基于特定条件对数据进行分类的列。例如，要将销售额分类为“高”、“中”和“低”类别：

```
销售类别 = 
SWITCH(
    TRUE(),
    [销售额] > 100000, "高",
    [销售额] > 50000, "中",
    "低"
)
```

## 最佳实践

- **保持简单**：从简单的计算开始，逐渐增加复杂性。
- **性能考虑**：注意性能影响，确保计算字段不会显著降低数据模型的性能。